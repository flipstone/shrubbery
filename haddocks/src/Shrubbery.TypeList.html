<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE DataKinds #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE FlexibleInstances #-}</span><span>
</span><span id="line-3"></span><span class="hs-pragma">{-# LANGUAGE TypeFamilies #-}</span><span>
</span><span id="line-4"></span><span class="hs-pragma">{-# LANGUAGE TypeOperators #-}</span><span>
</span><span id="line-5"></span><span class="hs-pragma">{-# LANGUAGE UndecidableInstances #-}</span><span>
</span><span id="line-6"></span><span>
</span><span id="line-7"></span><span class="hs-comment">{-|
  This module provides type families that are useful for working with type-level
  lists. Usually you won't need to use these types directly as while using
  this package, but they may occasionally come in useful if you find yourself
  writing your own helper functions.
-}</span><span>
</span><span id="line-13"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Shrubbery.TypeList</span><span>
</span><span id="line-14"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Shrubbery.TypeList.html#FirstIndexOf"><span class="hs-identifier">FirstIndexOf</span></a></span><span>
</span><span id="line-15"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Shrubbery.TypeList.html#FirstIndexOfWithMsg"><span class="hs-identifier">FirstIndexOfWithMsg</span></a></span><span>
</span><span id="line-16"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Shrubbery.TypeList.html#TypeAtIndex"><span class="hs-identifier">TypeAtIndex</span></a></span><span>
</span><span id="line-17"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Shrubbery.TypeList.html#TypeAtIndexWithMsg"><span class="hs-identifier">TypeAtIndexWithMsg</span></a></span><span>
</span><span id="line-18"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Shrubbery.TypeList.html#KnownLength"><span class="hs-identifier">KnownLength</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-19"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Shrubbery.TypeList.html#NotAMemberMsg"><span class="hs-identifier">NotAMemberMsg</span></a></span><span>
</span><span id="line-20"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Shrubbery.TypeList.html#OutOfBoundsMsg"><span class="hs-identifier">OutOfBoundsMsg</span></a></span><span>
</span><span id="line-21"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Shrubbery.TypeList.html#Length"><span class="hs-identifier">Length</span></a></span><span>
</span><span id="line-22"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Shrubbery.TypeList.html#ZippedTypes"><span class="hs-identifier">ZippedTypes</span></a></span><span>
</span><span id="line-23"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-24"></span><span>
</span><span id="line-25"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Kind</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Type</span></span><span class="hs-special">)</span><span>
</span><span id="line-26"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Proxy</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Proxy</span></span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Proxy</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-27"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">GHC.TypeLits</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">KnownNat</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">Nat</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">TypeError</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">ErrorMessage</span></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">natVal</span></span><span class="hs-special">,</span><span> </span><span class="hs-keyword">type</span><span> </span><span class="annot"><span class="hs-operator">(+)</span></span><span class="hs-special">,</span><span> </span><span class="hs-keyword">type</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">-</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-28"></span><span>
</span><span id="line-29"></span><span class="hs-comment">{-|
  This type finds the first index of a type in the given list as a type-level
  natural. It is implemented as a type synonym around 'FirstIndexOfWithMsg' to
  provide a nice error message when the given type is not found in the list.
-}</span><span>
</span><span id="line-34"></span><span class="hs-keyword">type</span><span> </span><span id="FirstIndexOf"><span class="annot"><a href="Shrubbery.TypeList.html#FirstIndexOf"><span class="hs-identifier hs-var">FirstIndexOf</span></a></span></span><span> </span><span id="local-6989586621679036233"><span class="annot"><a href="#local-6989586621679036233"><span class="hs-identifier hs-type">t</span></a></span></span><span> </span><span id="local-6989586621679036232"><span class="annot"><a href="#local-6989586621679036232"><span class="hs-identifier hs-type">types</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-35"></span><span>  </span><span class="annot"><a href="Shrubbery.TypeList.html#FirstIndexOfWithMsg"><span class="hs-identifier hs-type">FirstIndexOfWithMsg</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679036233"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679036232"><span class="hs-identifier hs-type">types</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Shrubbery.TypeList.html#NotAMemberMsg"><span class="hs-identifier hs-type">NotAMemberMsg</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679036233"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679036232"><span class="hs-identifier hs-type">types</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-36"></span><span>
</span><span id="line-37"></span><span class="hs-comment">{-|
  Finds the first index of a type in the given list as a type-level
  natural.

  The last argument of the type family is the error message that will
  be given if the type is not found. Normally you will just use the 'FirstIndexOf'
  synonym, but you can use this instead if you want to provide a customized
  error message.
-}</span><span>
</span><span id="line-46"></span><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">family</span><span> </span><span id="FirstIndexOfWithMsg"><span class="annot"><a href="Shrubbery.TypeList.html#FirstIndexOfWithMsg"><span class="hs-identifier hs-var">FirstIndexOfWithMsg</span></a></span></span><span> </span><span id="local-6989586621679036231"><span class="annot"><a href="#local-6989586621679036231"><span class="hs-identifier hs-type">t</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679036230"><span class="annot"><a href="#local-6989586621679036230"><span class="hs-identifier hs-type">types</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679036229"><span class="annot"><a href="#local-6989586621679036229"><span class="hs-identifier hs-type">errMsg</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ErrorMessage</span></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-47"></span><span>  </span><span id="FirstIndexOfWithMsg"><span class="annot"><a href="Shrubbery.TypeList.html#FirstIndexOfWithMsg"><span class="hs-identifier hs-var">FirstIndexOfWithMsg</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">'</span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span id="local-6989586621679036228"><span class="annot"><a href="#local-6989586621679036228"><span class="hs-identifier hs-type hs-type">errMsg</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TypeError</span></span><span> </span><span class="annot"><a href="#local-6989586621679036228"><span class="hs-identifier hs-type">errMsg</span></a></span><span>
</span><span id="line-48"></span><span>  </span><span id="FirstIndexOfWithMsg"><span class="annot"><a href="Shrubbery.TypeList.html#FirstIndexOfWithMsg"><span class="hs-identifier hs-var">FirstIndexOfWithMsg</span></a></span></span><span> </span><span id="local-6989586621679036227"><span class="annot"><a href="#local-6989586621679036227"><span class="hs-identifier hs-type hs-type">t</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679036227"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-number">0</span></span><span>
</span><span id="line-49"></span><span>  </span><span id="FirstIndexOfWithMsg"><span class="annot"><a href="Shrubbery.TypeList.html#FirstIndexOfWithMsg"><span class="hs-identifier hs-var">FirstIndexOfWithMsg</span></a></span></span><span> </span><span id="local-6989586621679036226"><span class="annot"><a href="#local-6989586621679036226"><span class="hs-identifier hs-type hs-type">t</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span id="local-6989586621679036225"><span class="annot"><a href="#local-6989586621679036225"><span class="hs-identifier hs-type hs-type">rest</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679036224"><span class="annot"><a href="#local-6989586621679036224"><span class="hs-identifier hs-type hs-type">errMsg</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">+</span></span><span> </span><span class="annot"><a href="Shrubbery.TypeList.html#FirstIndexOfWithMsg"><span class="hs-identifier hs-type">FirstIndexOfWithMsg</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679036226"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679036225"><span class="hs-identifier hs-type">rest</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679036224"><span class="hs-identifier hs-type">errMsg</span></a></span><span>
</span><span id="line-50"></span><span>
</span><span id="line-51"></span><span class="hs-comment">{-|
  This type finds the type at the given index in a list of types. It is
  implemented as a type synonym around 'TypeAtIndexWithMsg' to provide a nice
  error message when the given type is not found in the list.
-}</span><span>
</span><span id="line-56"></span><span class="hs-keyword">type</span><span> </span><span id="TypeAtIndex"><span class="annot"><a href="Shrubbery.TypeList.html#TypeAtIndex"><span class="hs-identifier hs-var">TypeAtIndex</span></a></span></span><span> </span><span id="local-6989586621679036223"><span class="annot"><a href="#local-6989586621679036223"><span class="hs-identifier hs-type">n</span></a></span></span><span> </span><span id="local-6989586621679036222"><span class="annot"><a href="#local-6989586621679036222"><span class="hs-identifier hs-type">types</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-57"></span><span>  </span><span class="annot"><a href="Shrubbery.TypeList.html#TypeAtIndexWithMsg"><span class="hs-identifier hs-type">TypeAtIndexWithMsg</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679036223"><span class="hs-identifier hs-type">n</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679036222"><span class="hs-identifier hs-type">types</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Shrubbery.TypeList.html#OutOfBoundsMsg"><span class="hs-identifier hs-type">OutOfBoundsMsg</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679036223"><span class="hs-identifier hs-type">n</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679036222"><span class="hs-identifier hs-type">types</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-58"></span><span>
</span><span id="line-59"></span><span class="hs-comment">{-|
  Finds the type at the given index in a list of types.

  The last argument of the type family is the error message that will
  be given if the type is not found. Normally you will just use the 'TypeAtIndex'
  synonym, but you can use this instead if you want to provide a customized
  error message.
-}</span><span>
</span><span id="line-67"></span><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">family</span><span> </span><span id="TypeAtIndexWithMsg"><span class="annot"><a href="Shrubbery.TypeList.html#TypeAtIndexWithMsg"><span class="hs-identifier hs-var">TypeAtIndexWithMsg</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679036221"><span class="annot"><a href="#local-6989586621679036221"><span class="hs-identifier hs-type">n</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Nat</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679036220"><span class="annot"><a href="#local-6989586621679036220"><span class="hs-identifier hs-type">types</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679036219"><span class="annot"><a href="#local-6989586621679036219"><span class="hs-identifier hs-type">errMsg</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ErrorMessage</span></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-68"></span><span>  </span><span id="TypeAtIndexWithMsg"><span class="annot"><a href="Shrubbery.TypeList.html#TypeAtIndexWithMsg"><span class="hs-identifier hs-var">TypeAtIndexWithMsg</span></a></span></span><span> </span><span class="annot"><span class="hs-number">0</span></span><span> </span><span class="hs-special">'</span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span id="local-6989586621679036218"><span class="annot"><a href="#local-6989586621679036218"><span class="hs-identifier hs-type hs-type">errMsg</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TypeError</span></span><span> </span><span class="annot"><a href="#local-6989586621679036218"><span class="hs-identifier hs-type">errMsg</span></a></span><span>
</span><span id="line-69"></span><span>  </span><span id="TypeAtIndexWithMsg"><span class="annot"><a href="Shrubbery.TypeList.html#TypeAtIndexWithMsg"><span class="hs-identifier hs-var">TypeAtIndexWithMsg</span></a></span></span><span> </span><span class="annot"><span class="hs-number">0</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679036217"><span class="annot"><a href="#local-6989586621679036217"><span class="hs-identifier hs-type hs-type">t</span></a></span></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621679036217"><span class="hs-identifier hs-type">t</span></a></span><span>
</span><span id="line-70"></span><span>  </span><span id="TypeAtIndexWithMsg"><span class="annot"><a href="Shrubbery.TypeList.html#TypeAtIndexWithMsg"><span class="hs-identifier hs-var">TypeAtIndexWithMsg</span></a></span></span><span> </span><span id="local-6989586621679036216"><span class="annot"><a href="#local-6989586621679036216"><span class="hs-identifier hs-type hs-type">n</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span id="local-6989586621679036215"><span class="annot"><a href="#local-6989586621679036215"><span class="hs-identifier hs-type hs-type">rest</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679036214"><span class="annot"><a href="#local-6989586621679036214"><span class="hs-identifier hs-type hs-type">errMsg</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Shrubbery.TypeList.html#TypeAtIndexWithMsg"><span class="hs-identifier hs-type">TypeAtIndexWithMsg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679036216"><span class="hs-identifier hs-type">n</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">-</span></span><span> </span><span class="annot"><span class="hs-number">1</span></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679036215"><span class="hs-identifier hs-type">rest</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679036214"><span class="hs-identifier hs-type">errMsg</span></a></span><span>
</span><span id="line-71"></span><span>
</span><span id="line-72"></span><span class="hs-comment">{-|
  This is the default error message used by 'FirstIndexOf' when the type is
  not found.
-}</span><span>
</span><span id="line-76"></span><span class="hs-keyword">type</span><span> </span><span id="NotAMemberMsg"><span class="annot"><a href="Shrubbery.TypeList.html#NotAMemberMsg"><span class="hs-identifier hs-var">NotAMemberMsg</span></a></span></span><span> </span><span id="local-6989586621679036213"><span class="annot"><a href="#local-6989586621679036213"><span class="hs-identifier hs-type">t</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679036212"><span class="annot"><a href="#local-6989586621679036212"><span class="hs-identifier hs-type">types</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-77"></span><span>  </span><span class="hs-special">(</span><span>     </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">ShowType</span></span><span> </span><span class="annot"><a href="#local-6989586621679036213"><span class="hs-identifier hs-type">t</span></a></span><span>
</span><span id="line-78"></span><span>  </span><span class="hs-special">'</span><span class="hs-operator">:&lt;&gt;:</span><span> </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="annot"><span class="hs-string">&quot; is not a member of &quot;</span></span><span>
</span><span id="line-79"></span><span>  </span><span class="hs-special">'</span><span class="hs-operator">:&lt;&gt;:</span><span> </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">ShowType</span></span><span> </span><span class="annot"><a href="#local-6989586621679036212"><span class="hs-identifier hs-type">types</span></a></span><span>
</span><span id="line-80"></span><span>  </span><span class="hs-special">)</span><span>
</span><span id="line-81"></span><span>
</span><span id="line-82"></span><span class="hs-comment">{-|
  This is the default error message used by 'TypeAtIndex' when the index is
  out of bounds.
-}</span><span>
</span><span id="line-86"></span><span class="hs-keyword">type</span><span> </span><span id="OutOfBoundsMsg"><span class="annot"><a href="Shrubbery.TypeList.html#OutOfBoundsMsg"><span class="hs-identifier hs-var">OutOfBoundsMsg</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679036211"><span class="annot"><a href="#local-6989586621679036211"><span class="hs-identifier hs-type">index</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Nat</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679036210"><span class="annot"><a href="#local-6989586621679036210"><span class="hs-identifier hs-type">types</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-87"></span><span>  </span><span class="hs-special">(</span><span>     </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;Index &quot;</span></span><span>
</span><span id="line-88"></span><span>  </span><span class="hs-special">'</span><span class="hs-operator">:&lt;&gt;:</span><span> </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">ShowType</span></span><span> </span><span class="annot"><a href="#local-6989586621679036211"><span class="hs-identifier hs-type">index</span></a></span><span>
</span><span id="line-89"></span><span>  </span><span class="hs-special">'</span><span class="hs-operator">:&lt;&gt;:</span><span> </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="annot"><span class="hs-string">&quot; is out of bounds for the type list of length &quot;</span></span><span>
</span><span id="line-90"></span><span>  </span><span class="hs-special">'</span><span class="hs-operator">:&lt;&gt;:</span><span> </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">ShowType</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Shrubbery.TypeList.html#Length"><span class="hs-identifier hs-type">Length</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679036210"><span class="hs-identifier hs-type">types</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-91"></span><span>  </span><span class="hs-special">'</span><span class="hs-operator">:&lt;&gt;:</span><span> </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;: &quot;</span></span><span>
</span><span id="line-92"></span><span>  </span><span class="hs-special">'</span><span class="hs-operator">:&lt;&gt;:</span><span> </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">ShowType</span></span><span> </span><span class="annot"><a href="#local-6989586621679036210"><span class="hs-identifier hs-type">types</span></a></span><span>
</span><span id="line-93"></span><span>  </span><span class="hs-special">)</span><span>
</span><span id="line-94"></span><span>
</span><span id="line-95"></span><span class="hs-comment">{-|
  Similar to 'KnownNat', this class allows length of a type list that is
  known at compile time to be retrieved at runtime. This functionality is
  exported as a class rather than a family both to simplify the type signatures
  of functions that use this knowledge and for situations where consumers would
  need to turn on @UndecidableInstances@ to use it.
-}</span><span>
</span><span id="line-102"></span><span class="hs-keyword">class</span><span> </span><span id="KnownLength"><span class="annot"><a href="Shrubbery.TypeList.html#KnownLength"><span class="hs-identifier hs-var">KnownLength</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679036262"><span class="annot"><a href="#local-6989586621679036262"><span class="hs-identifier hs-type">types</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-103"></span><span>  </span><span id="local-6989586621679036265"><span id="lengthOfTypes"><span class="annot"><a href="Shrubbery.TypeList.html#lengthOfTypes"><span class="hs-identifier hs-type">lengthOfTypes</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679036265"><span class="hs-identifier hs-type">proxy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679036262"><span class="hs-identifier hs-type">types</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span></span><span>
</span><span id="line-104"></span><span>
</span><span id="line-105"></span><span id="local-6989586621679036207"><span id="local-6989586621679036208"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">KnownNat</span></span><span> </span><span class="annot"><a href="#local-6989586621679036208"><span class="hs-identifier hs-type">length</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679036208"><span class="hs-identifier hs-type">length</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">~</span></span><span> </span><span class="annot"><a href="Shrubbery.TypeList.html#Length"><span class="hs-identifier hs-type">Length</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679036207"><span class="hs-identifier hs-type">types</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Shrubbery.TypeList.html#KnownLength"><span class="hs-identifier hs-type">KnownLength</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679036207"><span class="hs-identifier hs-type">types</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-106"></span><span>  </span><span id="local-6989586621679036204"><span class="annot"><span class="annottext">lengthOfTypes :: proxy types -&gt; Int
</span><a href="#local-6989586621679036204"><span class="hs-identifier hs-var hs-var hs-var hs-var">lengthOfTypes</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-107"></span><span>    </span><span class="annot"><span class="annottext">Integer -&gt; Int
forall a. Num a =&gt; Integer -&gt; a
</span><span class="hs-identifier hs-var">fromInteger</span></span><span> </span><span class="annot"><span class="annottext">(Integer -&gt; Int) -&gt; (proxy types -&gt; Integer) -&gt; proxy types -&gt; Int
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Proxy length -&gt; Integer
forall (n :: Nat) (proxy :: Nat -&gt; *).
KnownNat n =&gt;
proxy n -&gt; Integer
</span><span class="hs-identifier hs-var">natVal</span></span><span> </span><span class="annot"><span class="annottext">(Proxy length -&gt; Integer)
-&gt; (proxy types -&gt; Proxy length) -&gt; proxy types -&gt; Integer
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">proxy types -&gt; Proxy length
forall (length :: Nat) (types :: [*]) (proxy :: [*] -&gt; *).
(length ~ Length types) =&gt;
proxy types -&gt; Proxy length
</span><a href="Shrubbery.TypeList.html#typesProxyToLengthProxy"><span class="hs-identifier hs-var">typesProxyToLengthProxy</span></a></span></span></span><span>
</span><span id="line-108"></span><span>
</span><span id="line-109"></span><span id="local-6989586621679036249"><span id="local-6989586621679036250"><span id="local-6989586621679036251"><span class="annot"><a href="Shrubbery.TypeList.html#typesProxyToLengthProxy"><span class="hs-identifier hs-type">typesProxyToLengthProxy</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679036251"><span class="hs-identifier hs-type">length</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">~</span></span><span> </span><span class="annot"><a href="Shrubbery.TypeList.html#Length"><span class="hs-identifier hs-type">Length</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679036250"><span class="hs-identifier hs-type">types</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679036249"><span class="hs-identifier hs-type">proxy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679036250"><span class="hs-identifier hs-type">types</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Proxy</span></span><span> </span><span class="annot"><a href="#local-6989586621679036251"><span class="hs-identifier hs-type">length</span></a></span></span></span></span><span>
</span><span id="line-110"></span><span id="typesProxyToLengthProxy"><span class="annot"><span class="annottext">typesProxyToLengthProxy :: proxy types -&gt; Proxy length
</span><a href="Shrubbery.TypeList.html#typesProxyToLengthProxy"><span class="hs-identifier hs-var hs-var">typesProxyToLengthProxy</span></a></span></span><span> </span><span class="annot"><span class="annottext">proxy types
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Proxy length
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span>
</span><span id="line-111"></span><span>
</span><span id="line-112"></span><span class="hs-comment">{-|
  Used by 'KnownLength' to calculate the length of a type-level list.
-}</span><span>
</span><span id="line-115"></span><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">family</span><span> </span><span id="Length"><span class="annot"><a href="Shrubbery.TypeList.html#Length"><span class="hs-identifier hs-var">Length</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679036201"><span class="annot"><a href="#local-6989586621679036201"><span class="hs-identifier hs-type">types</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Nat</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-116"></span><span>  </span><span id="Length"><span class="annot"><a href="Shrubbery.TypeList.html#Length"><span class="hs-identifier hs-var">Length</span></a></span></span><span> </span><span class="hs-special">'</span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-number">0</span></span><span>
</span><span id="line-117"></span><span>  </span><span id="Length"><span class="annot"><a href="Shrubbery.TypeList.html#Length"><span class="hs-identifier hs-var">Length</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span id="local-6989586621679036200"><span class="annot"><a href="#local-6989586621679036200"><span class="hs-identifier hs-type hs-type">rest</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">+</span></span><span> </span><span class="annot"><a href="Shrubbery.TypeList.html#Length"><span class="hs-identifier hs-type">Length</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679036200"><span class="hs-identifier hs-type">rest</span></a></span><span>
</span><span id="line-118"></span><span>
</span><span id="line-119"></span><span class="hs-comment">{-|

-}</span><span>
</span><span id="line-122"></span><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">family</span><span> </span><span id="ZippedTypes"><span class="annot"><a href="Shrubbery.TypeList.html#ZippedTypes"><span class="hs-identifier hs-var">ZippedTypes</span></a></span></span><span> </span><span id="local-6989586621679036199"><span class="annot"><a href="#local-6989586621679036199"><span class="hs-identifier hs-type">front</span></a></span></span><span> </span><span id="local-6989586621679036198"><span class="annot"><a href="#local-6989586621679036198"><span class="hs-identifier hs-type">focus</span></a></span></span><span> </span><span id="local-6989586621679036197"><span class="annot"><a href="#local-6989586621679036197"><span class="hs-identifier hs-type">back</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span class="hs-special">]</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-123"></span><span>  </span><span id="ZippedTypes"><span class="annot"><a href="Shrubbery.TypeList.html#ZippedTypes"><span class="hs-identifier hs-var">ZippedTypes</span></a></span></span><span> </span><span class="hs-special">'</span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span id="local-6989586621679036196"><span class="annot"><a href="#local-6989586621679036196"><span class="hs-identifier hs-type hs-type">focus</span></a></span></span><span> </span><span id="local-6989586621679036195"><span class="annot"><a href="#local-6989586621679036195"><span class="hs-identifier hs-type hs-type">back</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621679036196"><span class="hs-identifier hs-type">focus</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="#local-6989586621679036195"><span class="hs-identifier hs-type">back</span></a></span><span>
</span><span id="line-124"></span><span>  </span><span id="ZippedTypes"><span class="annot"><a href="Shrubbery.TypeList.html#ZippedTypes"><span class="hs-identifier hs-var">ZippedTypes</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679036194"><span class="annot"><a href="#local-6989586621679036194"><span class="hs-identifier hs-type hs-type">a</span></a></span></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span id="local-6989586621679036193"><span class="annot"><a href="#local-6989586621679036193"><span class="hs-identifier hs-type hs-type">rest</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679036192"><span class="annot"><a href="#local-6989586621679036192"><span class="hs-identifier hs-type hs-type">focus</span></a></span></span><span> </span><span id="local-6989586621679036191"><span class="annot"><a href="#local-6989586621679036191"><span class="hs-identifier hs-type hs-type">back</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Shrubbery.TypeList.html#ZippedTypes"><span class="hs-identifier hs-type">ZippedTypes</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679036193"><span class="hs-identifier hs-type">rest</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679036194"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679036192"><span class="hs-identifier hs-type">focus</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="#local-6989586621679036191"><span class="hs-identifier hs-type">back</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-125"></span></pre></body></html>